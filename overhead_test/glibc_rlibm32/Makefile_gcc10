CC = ${LOCAL}/usr/bin/gcc

funcNames = Log Log2 Log10 Exp Exp2 Exp10 Sinh Cosh Cospi Sinpi

src = $(patsubst %, %.c, $(funcNames))
obj = $(patsubst %, %, $(funcNames))

all: $(obj)

%: %.c
	$(CC) -static \
	-L${LOCAL}/usr/lib64 \
	-L${LOCAL}/lib64 \
	-I../../../include \
	-I${LOCAL}/usr/lib/gcc/x86_64-pc-linux-gnu/10.2.0/include \
	-Wl,-rpath=${LOCAL}/usr/lib64:${LOCAL}/lib64 \
	-Wl,--dynamic-linker=${LOCAL}/lib64/ld-linux-x86-64.so.2 \
	-Wl,--dynamic-linker=${LOCAL}/lib64/ld-2.33.so \
	-frounding-math -fsignaling-nans \
	-O3 -std=c11 $^ \
	../../../lib/floatMathLib.a \
	${LOCAL}/usr/lib64/libm-2.33.a \
	-o $@

clean:
	rm -rf $(obj) *.dSYM
